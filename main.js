// --- Translations -------------------------------------------------

const translations = {
  ar: {
    "nav.home": "الرئيسية",
    "nav.about": "عن الشركة",
    "nav.products": "المنتجات",
    "nav.why": "لماذا نحن",
    "nav.contact": "تواصل معنا",

    "hero.badge": "أسلاك ألماس بمعايير أوروبية",
    "hero.title": "حلول احترافية لقطع الرخام والجرانيت والخرسانة",
    "hero.subtitle":
      "نقدم أسلاك ألماس، خرزات، وحلولًا استهلاكية تم تطويرها في تركيا، وتُستخدم في المحاجر ومشاريع البناء في أوروبا، الشرق الأوسط وشمال أفريقيا.",
    "hero.btnProducts": "استعرض المنتجات",
    "hero.btnQuote": "اطلب عرض سعر",
    "hero.meta":
      "نصمم كل سلك بناءً على نوع الحجر، وصلابته، وظروف العمل، لنساعدك على خفض تكلفة المتر المربع المقطوع.",
    "hero.cardTitle": "سلك ألماس للرخام",
    "hero.cardSubtitle": "مُهيأ لسرعة قطع عالية وجودة سطح مستقرة",
    "hero.cardBody":
      "نحلل صلابة الحجر، تركيبه المعدني، وطريقة القطع، ثم نختار التصميم الأنسب للسلك، لزيادة الإنتاجية واستقرار عملية القطع.",
    "hero.stat1.label": "مجالات الاستخدام",
    "hero.stat1.value": "محاجر الرخام والحجر الجيري",
    "hero.stat2.label": "الأقطار المتاحة",
    "hero.stat2.value": "≈ 8.60 – 13.00 مم",

    "about.title": "عن ELSAFA W ELMARWA",
    "about.subtitle":
      "شركة متخصصة في إنتاج وتوريد أسلاك الألماس وملحقاتها، مقرها موغلا – تركيا، وتخدم عملاء في عدة أسواق دولية.",
    "about.card1.title": "رسالتنا",
    "about.card1.body":
      "نساعد عملاءنا على تحقيق قطع أسرع وأكثر أمانًا وكفاءة، من خلال مواءمة تصميم السلك مع نوع الحجر، المعدات، والأهداف الإنتاجية. هدفنا أن نقدّم حلاً كاملاً، لا مجرد منتج.",
    "about.card2.title": "مجالات الاستخدام",
    "about.card2.li1": "محاجر الرخام، الجرانيت، البازلت والدياباس.",
    "about.card2.li2": "قطع الكتل في مصانع الحجر الطبيعي.",
    "about.card2.li3":
      "قطع الخرسانة في مشاريع البنية التحتية والهدم.",
    "about.card2.li4":
      "صيانة وتحسين أداء أنظمة أسلاك الألماس القائمة.",

    "products.title": "مجموعة المنتجات",
    "products.subtitle":
      "مجموعة متكاملة من أسلاك الألماس، الخرزات، الحبال الفولاذية، والمواد الاستهلاكية المصممة للاستخدام في المحاجر وقطاع الإنشاءات.",

    "product1.name": "أسلاك ألماس لقطع الرخام",
    "product1.tags": "محاجر الرخام · قطع الكتل",
    "product1.desc":
      "تصاميم متوازنة تجمع بين سرعة القطع والعمر الافتراضي، مثالية لمحاجر الرخام وخطوط الإنتاج ذات الطاقة العالية.",
    "product1.badge": "أقطار متعددة",

    "product2.name": "أسلاك ألماس مغطاة للجرانيت والبازلت",
    "product2.tags": "Granit · Bazalt · Diabaz",
    "product2.desc":
      "أسلاك مغطاة للصخور الصلبة والملحية، تمنح ثباتًا أعلى في القطع، اهتزازًا أقل، وتثبيتًا قويًا للخرزات.",
    "product2.badge": "سلك مغطى",

    "product3.name": "أسلاك ألماس لقطع الخرسانة",
    "product3.tags": "قطاع البناء والبنية التحتية",
    "product3.desc":
      "أسلاك عالية الأداء لقطع الخرسانة المسلحة في الجسور، الأنفاق، ومشاريع الهدم المعقدة.",
    "product3.badge": "مشروعات إنشائية",

    "product4.name": "خرزات سلك ألماس",
    "product4.tags": "تصاميم مخصصة للأسلاك",
    "product4.desc":
      "تشكيلة واسعة من الخرزات والسبيسرات بأقطار وروابط مختلفة، لتمكين تصميم أسلاك مخصصة بحسب التطبيق.",
    "product4.badge": "نطاق أقطار واسع",

    "product5.name": "حبل فولاذي لأسلاك الألماس",
    "product5.tags": "نواة عالية المقاومة",
    "product5.desc":
      "حبال فولاذية عالية الجودة تُستخدم كقلب للأسلاك المجمعة، لتوفير المرونة وقوة الشد في ظروف العمل الصعبة.",
    "product5.badge": "جودة صناعية",

    "product6.name": "مواد استهلاكية لأسلاك الألماس",
    "product6.tags": "سبيسرات، أنابيب، ملحقات",
    "product6.desc":
      "كل ما تحتاجه لتركيب، صيانة، وتحسين أنظمة أسلاك الألماس في المحجر أو المصنع.",
    "product6.badge": "حل متكامل",

    "product7.name": "إطارات بكر أسلاك (بالمتر)",
    "product7.tags": "أغطية مطاطية للبكرات",
    "product7.desc":
      "إطارات مطاطية للبكرات تُورد بالمتر، بعدة أشكال ومقاسات لتلائم أنواعًا مختلفة من المعدات.",
    "product7.badge": "أشكال متعددة",

    "why.title": "لماذا تختارنا؟",
    "why.subtitle":
      "نجمع بين خبرة ميدانية من المحاجر وقدرة إنتاج مرنة في تركيا، لنقدم جودة مستقرة وتوفيرًا حقيقيًا في التكلفة.",
    "why.item1.title": "خبرة عملية من قلب المحجر",
    "why.item1.body":
      "تصميم الأسلاك مبني على بيانات إنتاج حقيقية من محاجر الرخام والجرانيت، وليس على اختبارات معملية فقط.",
    "why.item2.title": "جودة ثابتة يمكن الاعتماد عليها",
    "why.item2.body":
      "تحكم في جودة المواد الخام، ومتابعة في كل مرحلة من مراحل الإنتاج لضمان استمرارية الأداء.",
    "why.item3.title": "تصاميم مخصصة لنوع الحجر",
    "why.item3.body":
      "روابط مختلفة، وتباعد خرزات متنوع، وفقًا لصلابة الحجر، نوع الماكينة وسرعة القطع المستهدفة.",
    "why.item4.title": "شراكة طويلة الأمد",
    "why.item4.body":
      "دعم فني ومتابعة أداء لتحسين عمر السلك وتخفيض تكلفة المتر المربع على المدى الطويل.",

    "contact.title": "التواصل وطلب العروض",
    "contact.subtitle":
      "شاركنا نوع الحجر، التطبيق، وطول السلك المطلوب، وسيقوم فريقنا باقتراح أفضل تركيب سلك مناسب لمشروعك.",
    "contact.form.name": "الاسم*",
    "contact.form.namePlaceholder": "الاسم الكامل",
    "contact.form.company": "اسم الشركة",
    "contact.form.companyPlaceholder": "شركة / محجر",
    "contact.form.country": "الدولة",
    "contact.form.countryPlaceholder": "مثال: تركيا، إيطاليا",
    "contact.form.phone": "رقم الهاتف",
    "contact.form.phonePlaceholder": "+90...",
    "contact.form.email": "البريد الإلكتروني*",
    "contact.form.emailPlaceholder": "example@company.com",
    "contact.form.message": "الرسالة",
    "contact.form.messagePlaceholder":
      "اكتب نوع الحجر، التطبيق، وسرعة القطع المستهدفة…",
    "contact.form.button": "إرسال الرسالة",

    "contact.infoTitle": "بيانات التواصل",
    "contact.info.phoneLabel": "الهاتف / واتساب:",
    "contact.info.emailLabel": "البريد الإلكتروني:",
    "contact.info.addressLabel": "العنوان:",
    "contact.info.note":
      "يمكن توفير مواصفات فنية تفصيلية (الأقطار، عدد الخرزات، نوع المطاط، الروابط) عند الطلب، وتُضبط وفقًا لظروف عملك.",

    "footer.tagline": "مورد دولي لأسلاك الألماس مقره تركيا."
  },

  en: {
    "nav.home": "Home",
    "nav.about": "About",
    "nav.products": "Products",
    "nav.why": "Why Us",
    "nav.contact": "Contact",

    "hero.badge": "European-standard diamond wire solutions",
    "hero.title":
      "High-performance diamond wires for quarries and concrete cutting",
    "hero.subtitle":
      "We supply premium diamond wires, beads and consumables engineered in Turkey and trusted by marble, granite and construction companies across Europe, the Middle East and North Africa.",
    "hero.btnProducts": "View product range",
    "hero.btnQuote": "Request a quotation",
    "hero.meta":
      "Each wire is tuned to your stone type, cutting speed and operating conditions to reduce your cost per square meter cut.",
    "hero.cardTitle": "Marble diamond wire",
    "hero.cardSubtitle":
      "Designed for fast block cutting and consistent surface quality",
    "hero.cardBody":
      "We analyse stone hardness, mineral structure and machine set-up to select the right wire design, delivering stable cutting and high productivity.",
    "hero.stat1.label": "Applications",
    "hero.stat1.value": "Marble & limestone quarries",
    "hero.stat2.label": "Available diameters",
    "hero.stat2.value": "≈ 8.60 – 13.00 mm",

    "about.title": "About ELSAFA W ELMARWA",
    "about.subtitle":
      "A specialised producer and supplier of diamond wires and accessories for quarries and construction projects, headquartered in Muğla, Turkey.",
    "about.card1.title": "Our mission",
    "about.card1.body":
      "We help our partners cut faster, safer and more efficiently by matching each stone type with the right wire design. Our focus is to deliver a complete cutting solution, not just a product.",
    "about.card2.title": "Where our products are used",
    "about.card2.li1":
      "Marble, granite, basalt and diabased quarries.",
    "about.card2.li2": "Block cutting in stone processing plants.",
    "about.card2.li3":
      "Concrete cutting in infrastructure and demolition projects.",
    "about.card2.li4":
      "Maintenance and optimisation of existing diamond wire systems.",

    "products.title": "Product portfolio",
    "products.subtitle":
      "A complete range of diamond wires, beads, steel ropes and consumables designed for demanding quarry and construction applications.",

    "product1.name": "Diamond wire for marble",
    "product1.tags": "Quarry & block cutting",
    "product1.desc":
      "Balanced formulas for high cutting speed and long service life, ideal for marble quarries and high-output production lines.",
    "product1.badge": "Multiple diameters",

    "product2.name": "Coated diamond wire for granite & basalt",
    "product2.tags": "Granite · basalt · diabased",
    "product2.desc":
      "Coated wires for hard and abrasive stones, providing stable cutting, reduced vibration and excellent bead retention.",
    "product2.badge": "Coated wire",

    "product3.name": "Diamond wire for concrete",
    "product3.tags": "Construction & infrastructure",
    "product3.desc":
      "High-performance wires for cutting reinforced concrete in bridges, tunnels and complex demolition jobs.",
    "product3.badge": "Construction projects",

    "product4.name": "Diamond wire beads",
    "product4.tags": "Custom wire assemblies",
    "product4.desc":
      "A wide selection of beads and spacers in different diameters and bonds, enabling tailor-made wire designs.",
    "product4.badge": "Wide diameter range",

    "product5.name": "Steel rope for diamond wires",
    "product5.tags": "High-strength core",
    "product5.desc":
      "High-quality steel ropes used as wire cores, ensuring flexibility and tensile strength under tough cutting conditions.",
    "product5.badge": "Industrial quality",

    "product6.name": "Diamond wire consumables",
    "product6.tags": "Spacers, sleeves & accessories",
    "product6.desc":
      "All the consumables you need to assemble, maintain and optimise diamond wire systems in quarries and plants.",
    "product6.badge": "Complete solution",

    "product7.name": "Rubber sleeves for pulleys",
    "product7.tags": "Rubber by the meter",
    "product7.desc":
      "Rubber sleeves for diamond wire pulleys, supplied by the meter in multiple profiles and sizes for different machines.",
    "product7.badge": "Multiple profiles",

    "why.title": "Why partner with us?",
    "why.subtitle":
      "We combine field experience from quarries with flexible production in Turkey to deliver stable quality and measurable cost savings.",
    "why.item1.title": "Proven in real quarries",
    "why.item1.body":
      "Our wire designs are based on real production data from marble and granite quarries, not only lab tests.",
    "why.item2.title": "Consistent, reliable quality",
    "why.item2.body":
      "Controlled sourcing of raw materials and quality checks at every stage of production.",
    "why.item3.title": "Stone-specific wire designs",
    "why.item3.body":
      "Different bonds and bead spacing combinations tailored to stone hardness, machine type and target cutting speed.",
    "why.item4.title": "Long-term partnership",
    "why.item4.body":
      "Technical support and performance monitoring to improve wire lifetime and cost per square meter over time.",

    "contact.title": "Contact & quotations",
    "contact.subtitle":
      "Share your stone type, application and required wire length – our team will recommend the most suitable configuration for your operation.",
    "contact.form.name": "Name*",
    "contact.form.namePlaceholder": "Full name",
    "contact.form.company": "Company",
    "contact.form.companyPlaceholder": "Company / quarry",
    "contact.form.country": "Country",
    "contact.form.countryPlaceholder": "e.g. Turkey, Italy",
    "contact.form.phone": "Phone",
    "contact.form.phonePlaceholder": "+90...",
    "contact.form.email": "E-mail*",
    "contact.form.emailPlaceholder": "example@company.com",
    "contact.form.message": "Message",
    "contact.form.messagePlaceholder":
      "Stone type, application, required wire length, etc.",
    "contact.form.button": "Send request",

    "contact.infoTitle": "Contact details",
    "contact.info.phoneLabel": "Phone / WhatsApp:",
    "contact.info.emailLabel": "E-mail:",
    "contact.info.addressLabel": "Address:",
    "contact.info.note":
      "Detailed technical specifications (diameters, bead count, rubber types and bonds) are available on request and can be adapted to your quarry or project.",

    "footer.tagline":
      "International diamond wire supplier based in Turkey."
  },

  tr: {
    "nav.home": "Ana Sayfa",
    "nav.about": "Hakkımızda",
    "nav.products": "Ürünler",
    "nav.why": "Neden Biz",
    "nav.contact": "İletişim",

    "hero.badge": "Avrupa standartlarında elmas tel çözümleri",
    "hero.title":
      "Ocaklar ve beton kesimi için yüksek performanslı elmas teller",
    "hero.subtitle":
      "Türkiye’de geliştirilen elmas telleri, boncukları ve sarf malzemelerini Avrupa, Orta Doğu ve Kuzey Afrika’daki mermer, granit ve inşaat firmalarına sunuyoruz.",
    "hero.btnProducts": "Ürün portföyünü incele",
    "hero.btnQuote": "Teklif iste",
    "hero.meta":
      "Her tel; taş tipi, kesim hızı ve çalışma koşullarına göre optimize edilerek, m² başına kesim maliyetinizi düşürmeyi hedefler.",
    "hero.cardTitle": "Mermer elmas teli",
    "hero.cardSubtitle":
      "Hızlı blok kesimi ve stabil yüzey kalitesi için tasarlandı",
    "hero.cardBody":
      "Taşın sertliği، mineral yapısı ve makine düzenini analiz ederek doğru tel tasarımını seçiyor، stabil kesim ve yüksek verimlilik sağlıyoruz.",
    "hero.stat1.label": "Kullanım alanları",
    "hero.stat1.value": "Mermer ve kireç taşı ocakları",
    "hero.stat2.label": "Mevcut çaplar",
    "hero.stat2.value": "≈ 8.60 – 13.00 mm",

    "about.title": "ELSAFA W ELMARWA hakkında",
    "about.subtitle":
      "Muğla merkezli، ocak ve inşaat projeleri için elmas teller ve aksesuarlar geliştiren uzman bir üretici ve tedarikçiyiz.",
    "about.card1.title": "Misyonumuz",
    "about.card1.body":
      "Müşterilerimizin daha hızlı، daha güvenli ve daha verimli kesim yapmasını sağlamak için her taş tipi için doğru tel tasarımını sunuyoruz. Amacımız sadece ürün değil، kesime yönelik komple bir çözüm sunmaktır.",
    "about.card2.title": "Ürünlerimizin kullanıldığı alanlar",
    "about.card2.li1": "Mermer، granit، bazalt ve diabaz ocakları.",
    "about.card2.li2":
      "Doğaltaş işleme tesislerinde blok kesimi.",
    "about.card2.li3":
      "Altyapı ve yıkım projelerinde beton kesimi.",
    "about.card2.li4":
      "Mevcut elmas tel sistemlerinin bakımı ve optimizasyonu.",

    "products.title": "Ürün portföyü",
    "products.subtitle":
      "Zorlu ocak ve inşaat uygulamaları için tasarlanmış elmas teller، boncuklar، çelik halatlar ve sarf malzemelerinden oluşan geniş bir ürün yelpazesi sunuyoruz.",

    "product1.name": "Mermer için elmas tel",
    "product1.tags": "Ocak ve blok kesimi",
    "product1.desc":
      "Mermer ocakları ve yüksek kapasiteli hatlar için yüksek kesim hızı ve uzun tel ömrü arasında denge sağlayan formulasyonlar.",
    "product1.badge": "Farklı çap seçenekleri",

    "product2.name": "Granit & bazalt için kaplamalı elmas tel",
    "product2.tags": "Granit · bazalt · diabaz",
    "product2.desc":
      "Sert ve aşındırıcı taşlar için geliştirilen kaplamalı teller; stabil kesim، düşük titreşim ve güçlü boncuk tutunması sağlar.",
    "product2.badge": "Kaplamalı tel",

    "product3.name": "Beton kesimi için elmas tel",
    "product3.tags": "İnşaat ve altyapı projeleri",
    "product3.desc":
      "Köprü، tünel ve zorlu yıkım projelerinde donatılı betonun kontrollü kesimi için yüksek performanslı teller.",
    "product3.badge": "İnşaat projeleri",

    "product4.name": "Elmas tel boncukları",
    "product4.tags": "Özel tel tasarımları",
    "product4.desc":
      "Farklı çap ve bağ seçeneklerine sahip boncuk ve spacer çeşitleriyle، uygulamaya özel tel tasarımı imkânı.",
    "product4.badge": "Geniş çap aralığı",

    "product5.name": "Elmas teller için çelik halat",
    "product5.tags": "Yüksek mukavemetli çekirdek",
    "product5.desc":
      "Montajlı tellerin gövdesini oluşturan، esneklik ve çekme dayanımı sağlayan kaliteli çelik halatlar.",
    "product5.badge": "Endüstriyel kalite",

    "product6.name": "Elmas tel sarf malzemeleri",
    "product6.tags": "Spacer، kovan ve aksesuarlar",
    "product6.desc":
      "Ocak ve tesislerinizde elmas tel sistemlerinin montajı، bakımı ve optimizasyonu için gerekli tüm sarf malzemeleri.",
    "product6.badge": "Tam çözüm",

    "product7.name": "Kasnak lastikleri (metre ile)",
    "product7.tags": "Metre ile lastik kaplama",
    "product7.desc":
      "Elmas tel kasnakları için metre ile tedarik edilen، farklı profil ve ölçülerde lastik kaplamalar.",
    "product7.badge": "Çeşitli profiller",

    "why.title": "Neden bizimle çalışmalısınız?",
    "why.subtitle":
      "Ocak sahasından gelen saha tecrübesi ile Türkiye’deki esnek üretim kapasitemizi birleştirerek، stabil kalite ve ölçülebilir maliyet avantajı sağlıyoruz.",
    "why.item1.title": "Sahada test edilmiş çözümler",
    "why.item1.body":
      "Tel tasarımlarımız sadece laboratuvar değil، mermer ve granit ocaklarından gelen gerçek üretim verilerine dayanır.",
    "why.item2.title": "Sürekli ve güvenilir kalite",
    "why.item2.body":
      "Hammadde seçiminden son kontrole kadar her aşamada kalite takibi yapıyoruz.",
    "why.item3.title": "Taşa özel tel tasarımları",
    "why.item3.body":
      "Taş sertliği، makine tipi ve hedef kesim hızına göre farklı bağ ve boncuk dizilimleri sunuyoruz.",
    "why.item4.title": "Uzun vadeli iş ortaklığı",
    "why.item4.body":
      "Tel ömrünü ve m² başına kesim maliyetini iyileştirmek için teknik destek ve performans takibi sağlıyoruz.",

    "contact.title": "İletişim & teklif talepleri",
    "contact.subtitle":
      "Taş tipini، uygulamayı ve hedeflediğiniz tel uzunluğunu paylaşın; ekibimiz size en uygun elmas tel konfigürasyonunu önersin.",
    "contact.form.name": "İsim*",
    "contact.form.namePlaceholder": "Adınız Soyadınız",
    "contact.form.company": "Firma",
    "contact.form.companyPlaceholder": "Firma / ocak adı",
    "contact.form.country": "Ülke",
    "contact.form.countryPlaceholder": "Örn: Türkiye، İtalya",
    "contact.form.phone": "Telefon",
    "contact.form.phonePlaceholder": "+90...",
    "contact.form.email": "E-posta*",
    "contact.form.emailPlaceholder": "ornek@firma.com",
    "contact.form.message": "Mesajınız",
    "contact.form.messagePlaceholder":
      "Taş tipi، uygulama alanı، tel uzunluğu vb. bilgileri yazabilirsiniz.",
    "contact.form.button": "Talep gönder",

    "contact.infoTitle": "İletişim bilgileri",
    "contact.info.phoneLabel": "Telefon / WhatsApp:",
    "contact.info.emailLabel": "E-posta:",
    "contact.info.addressLabel": "Adres:",
    "contact.info.note":
      "Detaylı teknik spesifikasyonlar (çaplar، boncuk sayısı، lastik tipleri ve bağ seçenekleri) talep üzerine paylaşılabilir ve ocağınıza/projenize göre uyarlanabilir.",

    "footer.tagline":
      "Türkiye merkezli uluslararası elmas tel tedarikçisi."
  }
};


const products = [
  {
    key: "product1",
    image: "images/sawar-marble.jpg",
    pdf: "ELIT ELMAS KATALOG-yeni-2022.pdf"
  },
  {
    key: "product2",
    image: "images/diamond-wire-granite.jpg",  
    pdf: "ELIT ELMAS KATALOG-yeni-2022.pdf"
  },
  {
    key: "product3",
    image: "images/diamond-wire-concrete.jpg",
    pdf: "ELIT ELMAS KATALOG-yeni-2022.pdf"
  },
  {
    key: "product4",
    image: "images/diamond-beads.jpg",        
    pdf: "ELIT ELMAS KATALOG-yeni-2022.pdf"
  },
  {
    key: "product5",
    image: "images/steel-rope.jpg",           
    pdf: "ELIT ELMAS KATALOG-yeni-2022.pdf"
  },
  {
    key: "product6",
    image: "images/consumables.jpg",          
    pdf: "ELIT ELMAS KATALOG-yeni-2022.pdf"
  },
  {
    key: "product7",
    image: "images/pulley-rubber.jpg",        
    pdf: "ELIT ELMAS KATALOG-yeni-2022.pdf"
  }
];


function applyTranslations(lang) {
  const dict = translations[lang] || translations.en;

  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (dict[key]) {
      el.textContent = dict[key];
    }
  });

  document
    .querySelectorAll("[data-i18n-placeholder]")
    .forEach((el) => {
      const key = el.getAttribute("data-i18n-placeholder");
      if (dict[key]) {
        el.placeholder = dict[key];
      }
    });

  const html = document.documentElement;
  const body = document.body;
  html.lang = lang;

  if (lang === "ar") {
    html.dir = "rtl";
    body.classList.add("rtl");
  } else {
    html.dir = "ltr";
    body.classList.remove("rtl");
  }

  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.classList.toggle("lang-btn-active", btn.dataset.lang === lang);
  });
}

function setLanguage(lang) {
  localStorage.setItem("site_lang", lang);
  applyTranslations(lang);
}

// --- build products grid dynamically ------------------------------

function buildProductsGrid() {
  const grid = document.getElementById("products-grid");
  if (!grid) return;

  grid.innerHTML = "";

  products.forEach((p) => {
    const article = document.createElement("article");
    article.className = "product-card reveal";

    article.innerHTML = `
      <div class="product-image" style="background-image:url('${p.image}');"></div>
      <div class="product-body">
        <div class="product-name" data-i18n="${p.key}.name"></div>
        <div class="product-tags" data-i18n="${p.key}.tags"></div>
        <p class="product-desc" data-i18n="${p.key}.desc"></p>
        <div class="product-footer">
          <span class="badge-soft" data-i18n="${p.key}.badge"></span>
          <a href="${p.pdf}" target="_blank" rel="noopener" class="link-ghost">
            PDF
          </a>
        </div>
      </div>
    `;

    grid.appendChild(article);
  });
}

// --- reveal on scroll ---------------------------------------------

function setupReveal() {
  const revealEls = document.querySelectorAll(".reveal");
  if (!("IntersectionObserver" in window) || !revealEls.length) return;

  const obs = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("reveal--visible");
          obs.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.15 }
  );

  revealEls.forEach((el) => obs.observe(el));
}

// --- form handling (Formspree) -----------------------------------

function setupForm() {
  const form = document.getElementById("contact-form");
  if (!form) return;

  let messageEl = form.querySelector(".form-message");
  if (!messageEl) {
    messageEl = document.createElement("div");
    messageEl.className = "form-message";
    form.appendChild(messageEl);
  }

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    messageEl.textContent = "";
    messageEl.className = "form-message";

    const formData = new FormData(form);
    const name = formData.get("name");
    const email = formData.get("email");

    if (!name || !email) {
      messageEl.textContent =
        "Please fill in the required fields (name & e-mail).";
      messageEl.classList.add("form-message-error");
      return;
    }

    try {
      const response = await fetch(form.action, {
        method: form.method,
        body: formData,
        headers: {
          Accept: "application/json"
        }
      });

      if (response.ok) {
        messageEl.textContent =
          "Thank you for your message. Our team will contact you shortly.";
        messageEl.classList.add("form-message-success");
        form.reset();
      } else {
        messageEl.textContent =
          "Something went wrong. Please try again or contact us directly via e-mail.";
        messageEl.classList.add("form-message-error");
      }
    } catch (err) {
      messageEl.textContent =
        "Network error. Please check your connection and try again.";
      messageEl.classList.add("form-message-error");
    }
  });
}

// --- mobile nav ---------------------------------------------------

function setupMobileNav() {
  const navToggle = document.querySelector(".nav-toggle");
  const body = document.body;

  if (navToggle) {
    navToggle.addEventListener("click", () => {
      body.classList.toggle("nav-open");
    });
  }

  document
    .querySelectorAll("nav a[href^='#']")
    .forEach((link) => {
      link.addEventListener("click", () => {
        body.classList.remove("nav-open");
      });
    });
}

// --- init ---------------------------------------------------------

document.addEventListener("DOMContentLoaded", () => {
  const yearSpan = document.getElementById("year");
  if (yearSpan) {
    yearSpan.textContent = new Date().getFullYear().toString();
  }

  buildProductsGrid();

  const savedLang = localStorage.getItem("site_lang") || "en";
  applyTranslations(savedLang);

  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.addEventListener("click", () => {
      const lang = btn.dataset.lang;
      setLanguage(lang);
    });
  });

  setupMobileNav();
  setupForm();
  setupReveal();
});
